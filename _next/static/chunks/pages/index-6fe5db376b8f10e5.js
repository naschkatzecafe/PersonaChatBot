(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(27052)}])},27052:function(e,t,n){"use strict";n.r(t),n.d(t,{Fragment_6499b51736be44284c15de43340cb16c:function(){return Fragment_6499b51736be44284c15de43340cb16c},Fragment_6b39496cb9b07859843998f10b568904:function(){return Fragment_6b39496cb9b07859843998f10b568904},Fragment_cb5edf864ed730e6ef1545318d0da5a2:function(){return Fragment_cb5edf864ed730e6ef1545318d0da5a2},default:function(){return Component}});var i=n(82729),r=n(35944),a=n(67294),c=n(60687),s=n(6608),d=n(15637),l=n(94933),h=n(71581),o=n(70917),g=n(39177),m=n(6445),u=n(45877),p=n(72627),Z=n(73725),_=n(11675),f=n(4152),x=n(29248),b=n(84377),w=n(73954),F=n(204),k=n(14418),C=n(61909),y=n(53948),v=n(29222),B=n(44416),X=n(1078),j=n(20623),A=n(17889),z=n(23100),D=n(31686),I=n(7754),H=n(295),R=n(41664),E=n.n(R),K=n(16970);n(54627),n(85711);var O=n(9253),L=n(87226),N=n(3023),T=n(75358),q=n(1460),M=n(5152),P=n.n(M);n(44026);var S=n(775),G=n(9008),V=n.n(G);function _templateObject(){let e=(0,i._)(["\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n"]);return _templateObject=function(){return e},e}let $=P()(()=>n.e(264).then(n.bind(n,68264)).then(e=>e.BarChart),{loadableGenerated:{webpack:()=>[68264]},ssr:!1});function Fragment_cb5edf864ed730e6ef1545318d0da5a2(){let[e,t]=(0,a.useContext)(c.DR);return(0,r.tZ)(a.Fragment,{children:(0,s.oA)(t.length>0)?(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(d.Z,{css:{color:"crimson",zIndex:9999,position:"fixed",bottom:"30px",right:"30px",animation:"".concat(W," 1s infinite")},size:32})}):(0,r.tZ)(a.Fragment,{})})}function Fragment_6499b51736be44284c15de43340cb16c(){let[e,t]=(0,a.useContext)(c.DR);return(0,r.tZ)(a.Fragment,{children:(0,s.oA)(t.length>=2)?(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(g.Vq.Root,{css:{zIndex:9999},open:t.length>=2,children:(0,r.BX)(g.Vq.Content,{children:[(0,r.tZ)(g.Vq.Title,{children:"Connection Error"}),(0,r.BX)(m.x,{as:"p",children:["Cannot connect to server: ",t.length>0?t[t.length-1].message:"",". Check if server is reachable at ",(0,s.LH)(w.Ks).href]})]})})}):(0,r.tZ)(a.Fragment,{})})}let W=(0,o.F4)(_templateObject());function Fragment_6b39496cb9b07859843998f10b568904(){let e=(0,a.useContext)(c.M4.state),t=(0,a.useContext)(c.M4.state__app_state),[n,i]=(0,a.useContext)(c.DR),d=(0,a.useContext)(c.M4.state__app_state__chat_state),o=(0,a.useRef)(null);s.xL.ref_message=o;let g=(0,a.useCallback)(e=>{let t=e.target;e.preventDefault();let i={...Object.fromEntries(new FormData(t).entries()),message:(0,s.eA)(s.xL.ref_message)};n([(0,s.ju)("state.app_state.chat_state.on_submit",{form_data:i})])});return(0,r.tZ)(a.Fragment,{children:(0,s.oA)(e.is_hydrated)?(0,r.tZ)(a.Fragment,{children:(0,s.oA)(t.token_is_valid)?(0,r.tZ)(a.Fragment,{children:(0,r.BX)(u.k,{css:{alignItems:"center",justifyContent:"start",width:"100%",height:"100%",minHeight:"100vh"},direction:"column",children:[(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(F.k,{direction:"column",sx:{width:"100%",zIndex:"5",top:"0px",position:"fixed",alignItems:"left"},children:(0,r.BX)(u.k,{css:{backgroundColor:"var(--mauve-1)",borderBottom:"1px solid var(--mauve-4)",width:"100%",alignItems:"center",padding:"7px 20px 7px 20px;"},gap:"5",children:[(0,r.tZ)(k.X,{as:"h1",size:"4xl",sx:{weight:"bold"},children:"Pal-ette"}),(0,r.tZ)(p.r,{asChild:!0,children:(0,r.tZ)(E(),{href:"/",passHref:!0,children:(0,r.tZ)(m.x,{as:"p",color:"gray",children:"Home"})})}),(0,r.tZ)(p.r,{asChild:!0,children:(0,r.tZ)(E(),{href:"/",passHref:!0,children:(0,r.tZ)(m.x,{as:"p",color:"gray",children:"History"})})}),(0,r.tZ)(p.r,{asChild:!0,children:(0,r.tZ)(E(),{href:"/",passHref:!0,children:(0,r.tZ)(m.x,{as:"p",color:"gray",children:"Analysis"})})}),(0,r.tZ)(Z.x,{css:{flexGrow:"1"}}),(0,r.tZ)(u.k,{css:{alignItems:"center"},gap:"3",children:(0,r.tZ)(Z.x,{css:{"@media screen and (min-width: 0)":{display:"flex"},"@media screen and (min-width: 30em)":{display:"flex"},"@media screen and (min-width: 48em)":{display:"flex"},"@media screen and (min-width: 62em)":{display:"flex"},"@media screen and (min-width: 80em)":{display:"flex"},"@media screen and (min-width: 96em)":{display:"flex"}},children:(0,r.BX)(C.J,{children:[(0,r.tZ)(y.x,{children:(0,r.tZ)(v.z,{children:(0,r.tZ)(l.Z,{css:{color:"var(--current-color)"}})})}),(0,r.BX)(B.y,{children:[(0,r.tZ)(X.Y,{children:t.user_mail}),(0,r.tZ)(j.b,{children:(0,r.tZ)(v.z,{onClick:e=>n([(0,s.ju)("state.app_state.do_logout",{}),(0,s.ju)("state.app_state.check_login",{})],e,{}),sx:{width:"100%"},variant:"outline",children:"Logout"})}),(0,r.tZ)(A.u,{})]})]})})})]})})}),(0,r.tZ)(_.W,{css:{marginTop:"120px"}}),(0,r.BX)(u.k,{align:"start",css:{height:"100%",margin:"10px"},direction:"row",gap:"2",children:[(0,r.BX)(u.k,{align:"start",css:{width:"50%"},direction:"column",gap:"2",children:[(0,r.tZ)(p.r,{asChild:!0,children:(0,r.tZ)(E(),{href:"/history",passHref:!0,children:(0,r.tZ)(K.ZP,{css:{color:"var(--accent-11)",backgroundColor:"var(--accent-1)",width:"100%"},locale:"ko-KR",onChange:e=>n([(0,s.ju)("state.app_state.chat_state.switch_day",{day:e.toDateString()})],e,{}),value:d.select_date})})}),(0,r.tZ)(u.k,{children:(0,r.tZ)(p.r,{children:(0,r.tZ)(O.h,{height:"100%",minHeight:100,minWidth:200,width:"100%",children:(0,r.BX)($,{data:[{name:"4/1",pos:4,neg:6,neu:0},{name:"4/2",pos:5,neg:3,neu:0},{name:"4/3",pos:3,neg:1,neu:0},{name:"4/4",pos:1,neg:2,neu:3},{name:"4/5",pos:2,neg:2,neu:3},{name:"4/6",pos:0,neg:2,neu:2},{name:"4/7",pos:3,neg:1,neu:1}],height:"100%",width:"100%",children:[(0,r.tZ)(L.$,{dataKey:"pos",fill:"#8884d8",stroke:"#8884d8"}),(0,r.tZ)(L.$,{dataKey:"neg",fill:"#82ca9d",stroke:"#82ca9d"}),(0,r.tZ)(N.K,{dataKey:"name"}),(0,r.tZ)(T.B,{}),(0,r.tZ)(q.D,{})]})})})})]}),(0,r.tZ)(u.k,{css:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}),(0,r.BX)(u.k,{align:"start",css:{height:"100%",width:"50%"},direction:"column",gap:"2",children:[(0,r.tZ)(a.Fragment,{children:(0,s.oA)(!d.is_exist_chat)?(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(u.k,{align:"center",css:{height:"800px",width:"100%"},justify:"center",children:(0,r.tZ)(f.z,{disabled:d.is_waiting,onClick:e=>n([(0,s.ju)("state.app_state.chat_state.start_new_chat",{})],e,{}),children:"새로운 대화를 시작할까요?"})})}):(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(x.x,{css:{width:"100%",height:"800px"},children:(0,r.BX)(u.k,{align:"center",css:{width:"100%"},direction:"column",gap:"2",children:[d.current_messages.map((e,t)=>(0,r.tZ)(a.Fragment,{children:(0,s.oA)("user"===e.at(0))?(0,r.tZ)(a.Fragment,{children:(0,r.BX)(u.k,{align:"end",css:{width:"100%"},direction:"row",gap:"2",children:[(0,r.tZ)(m.x,{as:"p",css:{width:"100%",textAlign:"right"},children:e.at(1)}),(0,r.tZ)(l.Z,{css:{color:"var(--current-color)"}})]})}):(0,r.tZ)(a.Fragment,{children:(0,r.BX)(u.k,{align:"start",css:{width:"100%"},direction:"row",gap:"2",children:[(0,r.tZ)(h.Z,{css:{color:"var(--current-color)"}}),(0,r.tZ)(m.x,{as:"p",css:{width:"100%"},children:e.at(1)})]})})},t)),(0,r.tZ)(a.Fragment,{children:(0,s.oA)(d.is_closed)?(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(b.C,{children:d.chat_emotion})}):(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(f.z,{onClick:e=>n([(0,s.ju)("state.app_state.chat_state.evaluate_chat",{})],e,{}),children:"대화 마치기"})})})]})})})}),(0,r.tZ)(z.xu,{as:"form",onSubmit:g,sx:{width:"100%"},children:(0,r.BX)(u.k,{align:"start",css:{width:"100%"},direction:"row",gap:"2",children:[(0,r.tZ)(S.DebounceInput,{debounceTimeout:300,element:D.I,id:"message",inputRef:o,isDisabled:!d.is_exist_chat,isRequired:!0,onChange:e=>n([(0,s.ju)("state.app_state.chat_state.set_input_message",{msg:e.target.value})],e,{}),placeholder:"문자를 입력하세요.",sx:{width:"100%"},value:d.input_message}),(0,r.tZ)(a.Fragment,{children:(0,s.oA)(e.is_hydrated)?(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(v.z,{isDisabled:!d.is_exist_chat,isLoading:d.is_waiting,type:"submit",children:"보내기"})}):(0,r.tZ)(a.Fragment,{})})]})})]})]}),(0,r.tZ)(Z.x,{css:{flexGrow:1}})]})}):(0,r.tZ)(a.Fragment,{})}):(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(I.M,{children:(0,r.tZ)(H.$,{})})})})}function Component(){return(0,r.BX)(a.Fragment,{children:[(0,r.BX)(a.Fragment,{children:[(0,r.tZ)("div",{css:{position:"fixed",width:"100vw",height:"0"},children:(0,r.tZ)(Fragment_cb5edf864ed730e6ef1545318d0da5a2,{})}),(0,r.tZ)(Fragment_6499b51736be44284c15de43340cb16c,{})]}),(0,r.tZ)(a.Fragment,{children:(0,r.tZ)(Fragment_6b39496cb9b07859843998f10b568904,{})}),(0,r.BX)(V(),{children:[(0,r.tZ)("title",{children:"App | Index"}),(0,r.tZ)("meta",{content:"favicon.ico",property:"og:image"})]})]})}}},function(e){e.O(0,[345,744,815,774,888,179],function(){return e(e.s=75557)}),_N_E=e.O()}]);