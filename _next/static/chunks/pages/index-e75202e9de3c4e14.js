(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(27052)}])},27052:function(e,t,n){"use strict";n.r(t),n.d(t,{Fragment_6499b51736be44284c15de43340cb16c:function(){return Fragment_6499b51736be44284c15de43340cb16c},Fragment_cb5edf864ed730e6ef1545318d0da5a2:function(){return Fragment_cb5edf864ed730e6ef1545318d0da5a2},Fragment_e57922dfa784b0f14bafbd1dcc7e5c0d:function(){return Fragment_e57922dfa784b0f14bafbd1dcc7e5c0d},default:function(){return Component}});var a=n(82729),i=n(35944),r=n(67294),c=n(60687),d=n(6608),s=n(94933),l=n(71581),h=n(15637),o=n(70917),g=n(45877),m=n(72627),u=n(6445),p=n(73725),Z=n(11675),_=n(4152),f=n(29248),x=n(84377),b=n(39177),w=n(73954),F=n(204),k=n(14418),C=n(61909),y=n(53948),v=n(29222),B=n(44416),X=n(1078),j=n(20623),A=n(17889),z=n(23100),D=n(31686),I=n(7754),H=n(295),R=n(41664),E=n.n(R),K=n(16970);n(54627),n(85711);var O=n(9253),L=n(87226),N=n(3023),T=n(75358),q=n(1460),M=n(5152),P=n.n(M);n(44026);var S=n(775),G=n(9008),V=n.n(G);function _templateObject(){let e=(0,a._)(["\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n"]);return _templateObject=function(){return e},e}let $=P()(()=>n.e(264).then(n.bind(n,68264)).then(e=>e.BarChart),{loadableGenerated:{webpack:()=>[68264]},ssr:!1});function Fragment_e57922dfa784b0f14bafbd1dcc7e5c0d(){let e=(0,r.useContext)(c.M4.state),t=(0,r.useContext)(c.M4.state__app_state),[n,a]=(0,r.useContext)(c.DR),h=(0,r.useContext)(c.M4.state__app_state__chat_state),o=(0,r.useRef)(null);d.xL.ref_message=o;let b=(0,r.useCallback)(e=>{let t=e.target;e.preventDefault();let a={...Object.fromEntries(new FormData(t).entries()),message:(0,d.eA)(d.xL.ref_message)};n([(0,d.ju)("state.app_state.chat_state.on_submit",{form_data:a})])});return(0,i.tZ)(r.Fragment,{children:(0,d.oA)(e.is_hydrated)?(0,i.tZ)(r.Fragment,{children:(0,d.oA)(t.token_is_valid)?(0,i.tZ)(r.Fragment,{children:(0,i.BX)(g.k,{css:{alignItems:"center",justifyContent:"start",width:"100%",height:"100%",minHeight:"100vh"},direction:"column",children:[(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(F.k,{direction:"column",sx:{width:"100%",zIndex:"5",top:"0px",position:"fixed",alignItems:"left"},children:(0,i.BX)(g.k,{css:{backgroundColor:"var(--mauve-1)",borderBottom:"1px solid var(--mauve-4)",width:"100%",alignItems:"center",padding:"7px 20px 7px 20px;"},gap:"5",children:[(0,i.tZ)(k.X,{as:"h1",size:"4xl",sx:{weight:"bold"},children:"Pal-ette"}),(0,i.tZ)(m.r,{asChild:!0,children:(0,i.tZ)(E(),{href:"/",passHref:!0,children:(0,i.tZ)(u.x,{as:"p",color:"gray",children:"Home"})})}),(0,i.tZ)(m.r,{asChild:!0,children:(0,i.tZ)(E(),{href:"/",passHref:!0,children:(0,i.tZ)(u.x,{as:"p",color:"gray",children:"History"})})}),(0,i.tZ)(m.r,{asChild:!0,children:(0,i.tZ)(E(),{href:"/",passHref:!0,children:(0,i.tZ)(u.x,{as:"p",color:"gray",children:"Analysis"})})}),(0,i.tZ)(p.x,{css:{flexGrow:"1"}}),(0,i.tZ)(g.k,{css:{alignItems:"center"},gap:"3",children:(0,i.tZ)(p.x,{css:{"@media screen and (min-width: 0)":{display:"flex"},"@media screen and (min-width: 30em)":{display:"flex"},"@media screen and (min-width: 48em)":{display:"flex"},"@media screen and (min-width: 62em)":{display:"flex"},"@media screen and (min-width: 80em)":{display:"flex"},"@media screen and (min-width: 96em)":{display:"flex"}},children:(0,i.BX)(C.J,{children:[(0,i.tZ)(y.x,{children:(0,i.tZ)(v.z,{children:(0,i.tZ)(s.Z,{css:{color:"var(--current-color)"}})})}),(0,i.BX)(B.y,{children:[(0,i.tZ)(X.Y,{children:t.user_mail}),(0,i.tZ)(j.b,{children:(0,i.tZ)(v.z,{onClick:e=>n([(0,d.ju)("state.app_state.do_logout",{}),(0,d.ju)("state.app_state.check_login",{})],e,{}),sx:{width:"100%"},variant:"outline",children:"Logout"})}),(0,i.tZ)(A.u,{})]})]})})})]})})}),(0,i.tZ)(Z.W,{css:{marginTop:"120px"}}),(0,i.BX)(g.k,{align:"start",css:{height:"100%",margin:"10px"},direction:"row",gap:"2",children:[(0,i.BX)(g.k,{align:"start",css:{width:"50%"},direction:"column",gap:"2",children:[(0,i.tZ)(K.ZP,{css:{color:"var(--accent-11)",backgroundColor:"var(--accent-1)",width:"100%"},locale:"ko-KR",onChange:e=>n([(0,d.ju)("state.app_state.chat_state.switch_day",{day:e.toDateString()})],e,{}),value:h.select_date}),(0,i.tZ)(g.k,{children:(0,i.tZ)(m.r,{children:(0,i.tZ)(O.h,{height:"100%",minHeight:100,minWidth:200,width:"100%",children:(0,i.BX)($,{data:[{name:"4/1",pos:4,neg:6,neu:0},{name:"4/2",pos:5,neg:3,neu:0},{name:"4/3",pos:3,neg:1,neu:0},{name:"4/4",pos:1,neg:2,neu:3},{name:"4/5",pos:2,neg:2,neu:3},{name:"4/6",pos:0,neg:2,neu:2},{name:"4/7",pos:3,neg:1,neu:1}],height:"100%",width:"100%",children:[(0,i.tZ)(L.$,{dataKey:"pos",fill:"#8884d8",stroke:"#8884d8"}),(0,i.tZ)(L.$,{dataKey:"neg",fill:"#82ca9d",stroke:"#82ca9d"}),(0,i.tZ)(N.K,{dataKey:"name"}),(0,i.tZ)(T.B,{}),(0,i.tZ)(q.D,{})]})})})})]}),(0,i.tZ)(g.k,{css:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}),(0,i.BX)(g.k,{align:"start",css:{height:"100%",width:"50%"},direction:"column",gap:"2",children:[(0,i.tZ)(r.Fragment,{children:(0,d.oA)(!h.is_exist_chat)?(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(g.k,{align:"center",css:{height:"800px",width:"100%"},justify:"center",children:(0,i.tZ)(_.z,{disabled:h.is_waiting,onClick:e=>n([(0,d.ju)("state.app_state.chat_state.start_new_chat",{})],e,{}),children:"새로운 대화를 시작할까요?"})})}):(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(f.x,{css:{width:"100%",height:"800px"},children:(0,i.BX)(g.k,{align:"center",css:{width:"100%"},direction:"column",gap:"2",children:[h.current_messages.map((e,t)=>(0,i.tZ)(r.Fragment,{children:(0,d.oA)("user"===e.at(0))?(0,i.tZ)(r.Fragment,{children:(0,i.BX)(g.k,{align:"end",css:{width:"100%"},direction:"row",gap:"2",children:[(0,i.tZ)(u.x,{as:"p",css:{width:"100%",textAlign:"right"},children:e.at(1)}),(0,i.tZ)(s.Z,{css:{color:"var(--current-color)"}})]})}):(0,i.tZ)(r.Fragment,{children:(0,i.BX)(g.k,{align:"start",css:{width:"100%"},direction:"row",gap:"2",children:[(0,i.tZ)(l.Z,{css:{color:"var(--current-color)"}}),(0,i.tZ)(u.x,{as:"p",css:{width:"100%"},children:e.at(1)})]})})},t)),(0,i.tZ)(r.Fragment,{children:(0,d.oA)(h.is_closed)?(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(x.C,{children:h.chat_emotion})}):(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(_.z,{onClick:e=>n([(0,d.ju)("state.app_state.chat_state.evaluate_chat",{})],e,{}),children:"대화 마치기"})})})]})})})}),(0,i.tZ)(z.xu,{as:"form",onSubmit:b,sx:{width:"100%"},children:(0,i.BX)(g.k,{align:"start",css:{width:"100%"},direction:"row",gap:"2",children:[(0,i.tZ)(S.DebounceInput,{debounceTimeout:300,element:D.I,id:"message",inputRef:o,isDisabled:!h.is_exist_chat,isRequired:!0,onChange:e=>n([(0,d.ju)("state.app_state.chat_state.set_input_message",{msg:e.target.value})],e,{}),placeholder:"문자를 입력하세요.",sx:{width:"100%"},value:h.input_message}),(0,i.tZ)(r.Fragment,{children:(0,d.oA)(e.is_hydrated)?(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(v.z,{isDisabled:!h.is_exist_chat,isLoading:h.is_waiting,type:"submit",children:"보내기"})}):(0,i.tZ)(r.Fragment,{})})]})})]})]}),(0,i.tZ)(p.x,{css:{flexGrow:1}})]})}):(0,i.tZ)(r.Fragment,{})}):(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(I.M,{children:(0,i.tZ)(H.$,{})})})})}function Fragment_cb5edf864ed730e6ef1545318d0da5a2(){let[e,t]=(0,r.useContext)(c.DR);return(0,i.tZ)(r.Fragment,{children:(0,d.oA)(t.length>0)?(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(h.Z,{css:{color:"crimson",zIndex:9999,position:"fixed",bottom:"30px",right:"30px",animation:"".concat(W," 1s infinite")},size:32})}):(0,i.tZ)(r.Fragment,{})})}let W=(0,o.F4)(_templateObject());function Fragment_6499b51736be44284c15de43340cb16c(){let[e,t]=(0,r.useContext)(c.DR);return(0,i.tZ)(r.Fragment,{children:(0,d.oA)(t.length>=2)?(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(b.Vq.Root,{css:{zIndex:9999},open:t.length>=2,children:(0,i.BX)(b.Vq.Content,{children:[(0,i.tZ)(b.Vq.Title,{children:"Connection Error"}),(0,i.BX)(u.x,{as:"p",children:["Cannot connect to server: ",t.length>0?t[t.length-1].message:"",". Check if server is reachable at ",(0,d.LH)(w.Ks).href]})]})})}):(0,i.tZ)(r.Fragment,{})})}function Component(){return(0,i.BX)(r.Fragment,{children:[(0,i.BX)(r.Fragment,{children:[(0,i.tZ)("div",{css:{position:"fixed",width:"100vw",height:"0"},children:(0,i.tZ)(Fragment_cb5edf864ed730e6ef1545318d0da5a2,{})}),(0,i.tZ)(Fragment_6499b51736be44284c15de43340cb16c,{})]}),(0,i.tZ)(r.Fragment,{children:(0,i.tZ)(Fragment_e57922dfa784b0f14bafbd1dcc7e5c0d,{})}),(0,i.BX)(V(),{children:[(0,i.tZ)("title",{children:"App | Index"}),(0,i.tZ)("meta",{content:"favicon.ico",property:"og:image"})]})]})}}},function(e){e.O(0,[345,744,815,774,888,179],function(){return e(e.s=75557)}),_N_E=e.O()}]);